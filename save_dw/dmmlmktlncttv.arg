 
0000000005
SELECT DISTINCT MEMO.ID_MEMO, MEMO.DATAORA_INS, TRIM(MEMO.UTENTE_INS) AS UTENTE_INS, (MEMO.DATAORA_INS) AS DATA_INS, MEMO.TITOLO, MEMO.NOTE, TRIM(MEMO.TIPO_MEMO) AS TIPO_MEMO, TRIM(MEMO.TIPO_SV) AS TIPO_SV, MEMO.X_DATINS, TRIM(MEMO.X_UTENTE) AS X_UTENTE, CLIENTI_MEMO.ID_CLIENTE, MECA_MEMO.ID_MECA, MECA.NUM_INT,MECA.DATA_INT, COALESCE(TRIM(CLIENTI.RAG_SOC_10),'') + ' ' + COALESCE(CLIENTI.RAG_SOC_11, '') AS RAG_SOC_10, COALESCE(MEMO_UTENTI.STATO, 0) AS STATO , MEMO.PERMESSI , COALESCE(MEMO_UTENTI.ID_MEMO_UTENTE, 0) AS ID_MEMO_UTENTE FROM MEMO LEFT OUTER JOIN MEMO_UTENTI ON MEMO.ID_MEMO = MEMO_UTENTI.ID_MEMO LEFT OUTER JOIN CLIENTI_MEMO ON MEMO.ID_MEMO = CLIENTI_MEMO.ID_MEMO LEFT OUTER JOIN CLIENTI ON CLIENTI_MEMO.ID_CLIENTE = CLIENTI.CODICE LEFT OUTER JOIN MECA_MEMO ON MEMO.ID_MEMO = MECA_MEMO.ID_MEMO LEFT OUTER JOIN MECA ON MECA_MEMO.ID_MECA = MECA.ID WHERE ('*' = '*' OR '*' = 'MASTER' OR MEMO.UTENTE_INS = '*' OR MEMO.X_UTENTE = '*') AND CONVERT(DATE, MEMO.X_DATINS) BETWEEN CONVERT(DATE, '13-05-2018 00:00:00') AND CONVERT(DATE, '14-05-2019 00:00:00') AND MEMO_UTENTI.STATO BETWEEN 0 AND 2 AND (60 = 9999 OR MEMO_UTENTI.ID_SR_UTENTE = 60) AND (0 = 0 OR (0 > 0 AND CLIENTI_MEMO.ID_CLIENTE = 0)) AND (0 = 0 OR (0 > 0 AND MECA_MEMO.ID_MECA = 0)) AND (0 = 0 OR (0 = 888888 AND MECA_MEMO.ID_MECA > 0) OR (0 = 999999 AND CLIENTI_MEMO.ID_CLIENTE > 0)) ORDER BY MEMO.X_DATINS
